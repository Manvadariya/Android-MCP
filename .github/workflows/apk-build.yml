name: Diagnose Repo

on:
  workflow_dispatch:

jobs:
  check:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Show repo structure
        run: |
          echo "Listing files:"
          ls -R

      - name: Find gradlew
        run: |
          GRADLEW=$(find . -name gradlew | head -n 1)
          if [ -z "$GRADLEW" ]; then
            echo "No Android project found (no gradlew)."
            exit 1
          fi
